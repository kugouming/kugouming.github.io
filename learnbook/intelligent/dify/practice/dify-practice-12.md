# 数据库查询

## **01.** 动手做一做

今天的任务基于智能分诊应用"医小助"。在"条件分支"的"case1"后新增一个"SQL查询"节点。

但是，需要先准备一下插件的安装(v1.0.0之后，已经升级需要安装插件)。

![图片](_assets/844b0dcf7499d1c057e3afd0345f5458_MD5.webp)

插件安装之后，按下图所示进行添加，先点击"工具"，再找到刚才安装的"Database"，展开后选中"SQL Execute"。

![图片](_assets/fac40408487d09ae8e572f34d888a0b4_MD5.webp)

第一次使用会让先授权，按下图步骤进行设置。直接点"去授权"，不用管下面的API端点。这个以后有需要再说。

![图片](_assets/84e186b2d5977159c92a64d2025846ea_MD5.webp)

授权之后，如果再用"数据库"工具，就不会再要求进行授权了。授权需要输入的内容如下：`mysql+pymysql://root:123456@192.168.0.101:3306/hospital`

如果用的postgresql或者sqlite，就查询一下插件的说明文档即可。

![图片](_assets/dacdf09de49126bda6d3f7684329d691_MD5.webp)

现在我们就可以填入查询SQL语句了，"SELECT name, title, description FROM doctor WHERE department = '眼科' and status = 1;"

输出暂时按"Markdown"内容输出。

![图片](_assets/25a5d86ecdf0d7b9e52eadf240eb0213_MD5.webp)

将后一个回复节点的输出，添加SQL查询的结果，如下图。

![图片](_assets/a50b978bee62f1d0d82fbca21c929ea0_MD5.webp)

保存之后，我们进行测试，如下：

![图片](_assets/d7709a6c75099cce843d48befe3c00d6_MD5.webp)

可以看到，如果走到"眼科分支，且与近视有关"，那么会获得数据库内查询出来的内容。

希望今天的动手实践，也能跟着麦金叔做下来。

## **02.** 补充说明

今天学的数据库查询，对于普通人来说有点难度。

但AI应用的开发，一定是围绕大模型之后，再精细补充细节。

数据库的操作是AI前时代，数字化或者信息化过程中的重要一环。任何与软件，互联网等相关的开发，必然是不可能缺失数据库的。

与其将话语权交给别人，还不如也顺手把SQL查询学一学。这样我们的AI应用必将有血有肉，落地不再是空中楼阁。

## **总结**

今天学习一个新的组件"数据库查询"。有了它在AI应用开发的"拖线条"过程中，真正做到不再"说大话"，不会"胡编乱造"。但是，要使用它，门槛稍微高了那么一点点。除了需要有基础的数据库运维，最重要的还需要你能稍微了解一下SQL，有对数据操作的能力。